syntax = "proto3";

package  user.auth.otp;

message UserResult {
  string _id = 1;
  string fullName = 2;
  string email = 3;
  string mobile = 4;
  string userName = 5;
  bool isActive = 6;
  string status = 7;
  bool emailVerify = 8;
  bool emailVisible = 9;
  bool mobileVisible = 10;
  string profilePicture = 11;
  string title = 12;
  Contact contact = 13;

    //ERROR
    int32 errorCode = 14 ;
    string timestamp = 15 ;
    string path = 16 ;
    string message = 17 ;
}
message MakeOtpRequest {
  string phoneNumber = 1;
}

message Contact{
  string phone =1 ;
  string fax =2 ;
  string address =3 ;
}

message MakeOtpResponse {
  bool success = 1;
  string message = 2;
  MakeOtpResult data = 3;
  int32 status = 4;
  
}

message MakeOtpResult {
 int32 code = 1;
   //ERROR
   int32 errorCode = 2 ;
   string timestamp = 3 ;
   string path = 4 ;
   string message = 5 ;
}

message LoginOtpRequest {
  string phoneNumber = 1;
  int32 code = 2;
}

message LoginOtpResult {
  string accessToken = 1 ;
  //ERROR
  int32 errorCode = 2 ;
  string timestamp = 3 ;
  string path = 4 ;
  string message = 5 ;
}

message LoginOtpResponse{
  bool success = 1;
  string message = 2;
  LoginOtpResult data = 3;
  int32 status = 4;
}
message ValidateAccessTokenResponse{
  bool success = 1;
  string message = 2;
  UserResult data = 3;
  int32 status = 4;

}

service AuthService {
  rpc MakeOtp (MakeOtpRequest) returns (MakeOtpResponse);
  rpc LoginOtp (LoginOtpRequest) returns (LoginOtpResponse);
  rpc ValidateAccessToken (LoginOtpResult) returns (ValidateAccessTokenResponse);
}